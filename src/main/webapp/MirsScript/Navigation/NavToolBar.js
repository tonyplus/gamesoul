!function(d,b){window.Mirs=window.Mirs||{};window.Mirs.Navigation=window.Mirs.Navigation||{};if(window.Mirs.Navigation.NavToolBar){throw new Error("Mirs.Navigation.NavToolBar 类重复加载")}var f=window.Mirs.Navigation.NavToolBar=function(){this._masterElement=null;this._selItem=null;this._selClassName=null;this._menus=new Array()};var c=null;f.getInstance=function(){var a=null;if(c==null){a=new window.Mirs.Navigation.NavToolBar();c=a}else{a=c}return a};f.Create=function(){var g=d.ce("ul");g.setAttribute("MirsElementType","Mirs.Navigation.NavToolBar");var a=new window.Mirs.Navigation.NavToolBar();a._masterElement=g;g.addItem=d.cd(a,a.addItem);g.getSelectItem=d.cd(a,a.getSelectItem);g.setSelectClassName=d.cd(a,a.setSelectClassName);g.setSelectFirst=d.cd(a,a.setSelectFirst);g.setSelectItem=d.cd(a,a.setSelectItem);g.getDynamicBar=d.cd(a,a.getDynamicBar);g.getFixedBar=d.cd(a,a.getFixedBar);g.getMenus=d.cd(a,a.getMenus);g.getExtenMenu=d.cd(a,a.getExtenMenu);c=g;var h=Mirs.Navigation.DynamicBar.Create();return g};f.prototype.getDynamicBar=function(){var a=Mirs.Navigation.DynamicBar.getInstance();return a};f.prototype.getFixedBar=function(){var a=Mirs.Navigation.FixedBar.getInstance();return a};f.prototype.getExtenMenu=function(){var a=Mirs.Navigation.ExtenMenu;return a};f.prototype.addItem=function(g){var a=window.Mirs.Navigation.NavRibItem.Create(g);this._masterElement.appendChild(a);this._menus.push(a);return g};f.prototype.item_click=function(g){var g=event||g;var a=g.currentTarget||g.srcElement};f.prototype.setSelectFirst=function(){if(this._menus[0]){var a=this._menus[0].children[0];a.className="mfContainer mfContainerShow";var k=this._menus[0].getData()._Code;var j=window.Mirs.Navigation.NavListControl.getInstance();j.setSelectItem(this._menus[0]);for(var g=0;g<j.getMenus().length;g++){var h=j.getMenus()[g];if(h.getModel()._ParentID==k){h.className="displayblock"}}this._selItem=a}};f.prototype.getSelectItem=function(){return this._selItem};f.prototype.getMenus=function(){return this._menus};f.prototype.setSelectItem=function(a){this._selItem=a;return this._selItem};f.prototype.setSelectClassName=function(a){this._selClassName=a};var e=window.Mirs.Navigation.NavRibItem=function(){this._masterElement=null;this._model=null;this._upStatus="out"};e.Create=function(j){var m=document.createElement("li");m.setAttribute("MirsElementType","Mirs.Navigation.NavRibItem");var i=d.ce();var k=d.ce("div");k.className="mfContainer mfContainerNormal";var n=d.ce("div");n.className="mfPic";var h=d.ce("img");h.style.width="24px";h.style.height="24px";h.src=j._Icon;var a=d.ce("div");a.className="mfTitle";a.innerHTML=j._Caption;n.appendChild(h);k.appendChild(n);k.appendChild(a);m.appendChild(k);var l=new window.Mirs.Navigation.NavRibItem();l._model=j;l._masterElement=m;m.getData=d.cd(l,l.getData);m.getModel=d.cd(l,l.getModel);m.setUpStatus=d.cd(l,l.setUpStatus);m.getUpStatus=d.cd(l,l.getUpStatus);var g=d.cd(l,l.mf_Click);d.ah(k,"click",g);m.setBackgroundColor=d.cd(l,l.setBackgroundColor);return m};e.prototype.mf_Click=function(){var l=window.Mirs.Navigation.NavToolBar.getInstance().getSelectItem();l.className="mfContainer mfContainerNormal";this._masterElement.children[0].className="mfContainer mfContainerShow";var j=window.Mirs.Navigation.NavToolBar.getInstance();j.setSelectItem(this._masterElement.children[0]);var g=window.Mirs.Navigation.NavListControl.getInstance();g.setSelectItem(this._masterElement);for(var h=0;h<g.getMenus().length;h++){var k=g.getMenus()[h];if(k.getModel()._ParentID==this._model._Code){k.className="displayblock"}else{k.className="displaynone"}}var a=Mirs.Navigation.MOvnContainer.getInstance();var m=Mirs.Navigation.MOvnControl.getInstance();if(this._masterElement.getUpStatus()=="out"){a.clearActiveStatus()}else{if(this._masterElement.getUpStatus()=="in"){a.setActiveStatus();m.setDisplayNone()}}b.getInstance().getWorkControl().setTitleCaption(this._model._Caption)};e.prototype.setUpStatus=function(a){this._upStatus=a;return this._upStatus};e.prototype.getUpStatus=function(){return this._upStatus};e.prototype.getData=function(){return this._model};e.prototype.getModel=function(){var a={};a.Caption=this._model._Caption;a.Code=this._model._Code;a.Description=this._model._Description;a.Icon=this._model._Icon;a.Level=this._model._Level;a.ParentID=this._model._ParentID;return a};e.prototype.setBackgroundColor=function(a){this._masterElement.style.backgroundColor=a};e.prototype.item_click=function(g){var g=event||g;var a=g.currentTarget||g.srcElement}}(Mirs.Global,Mirs.Application);