!function(i,m){window.Mirs=window.Mirs||{};window.Mirs.Navigation=window.Mirs.Navigation||{};if(window.Mirs.Navigation.NavControl){throw new Error("Mirs.Navigation.NavControl 类重复加载")}var e=window.Mirs.Navigation.NavControl=function(){this._cfg=null};e.CreateMenu=function(){var w=m.getInstance();var q=w.NavData.SubNodes;var u=window.Mirs.Navigation.NavToolBar.Create();var I=window.Mirs.Navigation.NavListControl.Create();var B=window.Mirs.Navigation.NavTitleBar.getInstance();B.appendChild(I);var o=document.body.clientWidth;var x=new Array();for(var H=0;H<q.length;H++){var N=q[H];var y={};y._Level=1;y._ParentID="Mirs.TOP";y._Code=N.Code;y._Caption=N.Caption;y._Description=N.Description;y._Icon=N.Icon;y._MenuSubs=new Array();for(var G=0;G<N.SubNodes.length;G++){var M=N.SubNodes[G];M._Level=2;M._ParentID=y._Code;M._MenuSubs=new Array();M._FunSubs=new Array();var r=window.Mirs.Navigation.NavMenuList.Create(M);for(var E=0;E<M.SubNodes.length;E++){var L=M.SubNodes[E];L._Level=3;L._ParentID=M.Code;L._MenuSubs=new Array();L._FunSubs=new Array();var F=window.Mirs.Navigation.NavMenuList.Create(L);if(L.SubNodes!=null){for(var D=0;D<L.SubNodes.length;D++){var K=L.SubNodes[D];K._Level=4;K._ParentID=L.Code;K._MenuSubs=new Array();K._FunSubs=new Array();var p=window.Mirs.Navigation.NavMenuList.Create(K);if(K.SubNodes!=null){for(var C=0;C<K.SubNodes.length;C++){var J=K.SubNodes[C];if(J.SubNodes!=null){}else{var t=d(J);t._ParentID=K._ParentID;if(t._MinVisible==null||t._MinVisible==""){t._MinVisible=0}if(o<t._MinVisible){}else{K._FunSubs.push(t);p.addFuncItem(t)}}}if(K._FunSubs.length==0&&K._MenuSubs.length==0){}else{L._MenuSubs.push(K);F.addMenuItem(p)}}else{var t=d(K);t._ParentID=L._ParentID;if(t._MinVisible==null||t._MinVisible==""){t._MinVisible=0}if(o<t._MinVisible){}else{L._FunSubs.push(t);F.addFuncItem(t)}}}if(L._FunSubs.length==0&&L._MenuSubs.length==0){}else{M._MenuSubs.push(L);r.addMenuItem(F)}}else{var t=d(L);t._ParentID=M._ParentID;if(t._MinVisible==null||t._MinVisible==""){t._MinVisible=0}if(o<t._MinVisible){}else{M._FunSubs.push(t);r.addFuncItem(t)}}}if(M._FunSubs.length==0&&M._MenuSubs.length==0){}else{y._MenuSubs.push(M);I.addItem(r)}}if(y._MenuSubs.length==0){}else{x.push(y);u.addItem(y)}}window.Mirs.Navigation.NavToolBar.getInstance().setSelectFirst();var v=window.Mirs.Navigation.McContainer.getInstance();v.createFirstMenu();var g=Mirs.Navigation.McContainer.getInstance();var A=Mirs.Navigation.MOvnContainer.getInstance();g.appendChild(A);var s=Mirs.Navigation.LayoutContainer.getInstance();var z=window.Mirs.Navigation.FixedBar.getInstance();z.appendChild(s);var a=window.Mirs.Navigation.FixContainer.getInstance();z.appendChild(a)};var d=function(a){var g=new k();g._BackgroundColor=a.BackgroundColor;g._Caption=a.Caption;g._Code=a.Code;g._Description=a.Description;g._FontColor=a.FontColor;g._HelpUrl=a.HelpUrl;g._Icon=a.Icon;g._IconClassName=a.IconClassName;g._IsSingleton=a.IsSingleton;g._NavClassName=a.NavClassName;g._ParmsExpression=a.ParmsExpression;g._RunTarget=a.RunTarget;g._RunUrl=a.RunUrl;g._Tags=a.Tags;g._MinVisible=a.MinVisible;g._OwnershipUnit=a.OwnershipUnit;if(a.ScriptType==""){g._FuncType="JS";g._ScriptType=a.ScriptType;g._RunClassName=a.RunClassName}else{g._FuncType="URL"}return g};var k=function(){this._BackgroundColor=-1;this._Caption="";this._Code="";this._Description="";this._FontColor="";this._HelpUrl="";this._Icon="";this._IconClassName="";this._IsSingleton="";this._NavClassName="";this._ParmsExpression="";this._RunTarget="";this._RunUrl="";this._Tags="";this._ParentID=""};var l=window.Mirs.Navigation.MOvnContainer=function(){this._masterElement=null;this._status=null};var c=null;l.getInstance=function(){var a=null;if(c==null){a=new window.Mirs.Navigation.MOvnContainer();c=a}else{a=c}return a};l.Create=function(){var q=i.ce("div");q.className="mOvnContainer";q.setAttribute("MirsElementType","Navigation.MOvnContainer");var o=new Mirs.Navigation.MOvnContainer();o._masterElement=q;var g=i.cd(o,o.mOvn_Click);i.ah(q,"click",g);q.setClassName=i.cd(o,o.setClassName);q.setID=i.cd(o,o.setID);q.fstManager=i.cd(o,o.fstManager);q.changeShow=i.cd(o,o.changeShow);q.managerShow=i.cd(o,o.managerShow);var a=window.Mirs.Navigation.MOvnControl.Create();var p=Mirs.Navigation.RootNav.getInstance();p.appendChild(a);q.setActiveStatus=i.cd(o,o.setActiveStatus);q.clearActiveStatus=i.cd(o,o.clearActiveStatus);c=q;return q};l.prototype.setActiveStatus=function(){this._masterElement.className="mOvnContainer mfContainerShow"};l.prototype.clearActiveStatus=function(){this._masterElement.className="mOvnContainer"};l.prototype.setClassName=function(a){this._masterElement.className=a};l.prototype.setID=function(a){this._masterElement.id=a};l.prototype.fstManager=function(){};l.prototype.managerShow=function(){var v=Mirs.Navigation.FixedBar.getInstance();var w=window.Mirs.Navigation.NavToolBar.getInstance();var s=Mirs.Navigation.NavListControl.getInstance();var D=80;var C=78;var x=100;var B=0;for(var z=0;z<v.children.length;z++){var p=v.children[z].clientHeight<34?48:v.children[z].clientHeight;B=B+p}var q=B+48;var u=document.documentElement.clientHeight;var E=u-C-q-x;var r=Math.floor(E/D);var a=w.getMenus();var y=s.getSelectItem();for(var z=0;z<a.length;z++){a[z].setUpStatus("out");w.appendChild(a[z])}if(r>=a.length){this._masterElement.style.display="none"}else{this._masterElement.style.display="block";var A=i.ce("ul");var g=false;for(var z=r;z<a.length;z++){if(y==a[z]){g=true}a[z].setUpStatus("in");A.appendChild(a[z])}var t=Mirs.Navigation.MOvnContainer.getInstance();var F=Mirs.Navigation.MOvnControl.getInstance();if(g){t.setActiveStatus()}else{t.clearActiveStatus()}var o=window.Mirs.Navigation.MOvnMenuBar;o.innerHTML="";o.appendChild(A)}};l.prototype.changeShow=function(){var a=window.Mirs.Navigation.MOvnControl.getInstance();a.changeShow()};l.prototype.mOvn_Click=function(g){var a=window.Mirs.Navigation.MOvnControl.getInstance();a.changeShow()};if(window.Mirs.Navigation.MOvnControl){throw new Error("Mirs.Navigation.MOvnControl 类重复加载")}var b=window.Mirs.Navigation.MOvnControl=function(){this._masterElement=null;this._isMgShow=null};var h=null;b.getInstance=function(){var a=null;if(h==null){a=new window.Mirs.Navigation.MOvnControl();h=a}else{a=h}return a};b.Create=function(){var r=i.ce("div");r.setAttribute("MirsElementType","Mirs.Navigation.MOvnControl");var t=i.ce("div");t.className="mOvnPopContainerBgCover";r.appendChild(t);var p=new window.Mirs.Navigation.MOvnControl();var g=i.cd(p,p.changeShow);t.addEventListener("click",g,false);r.className="mOvnPopContainer";r.style.display="none";var p=new window.Mirs.Navigation.MOvnControl();p._masterElement=r;var q=i.ce("div");q.className="mOvnPopimg";r.appendChild(q);var o=i.ce("div");o.className="mOvnMainContainer";var a=window.Mirs.Navigation.MOvnTitleBar.Create();o.appendChild(a);var s=window.Mirs.Navigation.MOvnMenuBar.Create();o.appendChild(s);window.Mirs.Navigation.MOvnMenuBar=s;r.appendChild(o);r.changeShow=i.cd(p,p.changeShow);r.setDisplayNone=i.cd(p,p.setDisplayNone);h=r;return r};b.prototype.setMasterElement=function(a){this._masterElement=a;return this._masterElement};b.prototype.getMasterElement=function(){return this._masterElement};b.prototype.changeShow=function(){var a=window.Mirs.Navigation.MOvnControl.getInstance();a.style.display=a.style.display=="none"?"block":"none"};b.prototype.setDisplayNone=function(){var a=window.Mirs.Navigation.MOvnControl.getInstance();a.style.display=a.style.display="none"};b.prototype.edit_Click=function(){alert("编辑编辑编辑编辑")};if(window.Mirs.Navigation.MOvnTitleBar){throw new Error("Mirs.Navigation.MOvnTitleBar 类重复加载")}var n=window.Mirs.Navigation.MOvnTitleBar=function(){this._masterElement=null;this._backElement=null;this._editElement=null};n.Create=function(){var t=i.ce("div");t.className="mOvnTopContainer";t.setAttribute("MirsElementType","Mirs.Navigation.MOvnTitleBar");var r=i.ce("div");r.className="mOvnBackBtn";var s=new window.Mirs.Navigation.MOvnControl();var u=i.cd(s,s.changeShow);r.addEventListener("click",u,false);var p=i.ce("img");p.src="MirsImages/收回按钮.png";r.appendChild(p);t.appendChild(r);var o=i.ce("div");o.className="mOvnTitle";o.innerHTML="更多";t.appendChild(o);var g=i.ce("div");g.className="mOvnEditBtn";var a=i.cd(s,s.edit_Click);g.addEventListener("click",a,false);var q=i.ce("img");q.src="MirsImages/编辑.png";g.style.display="none";g.appendChild(q);t.appendChild(g);return t};if(window.Mirs.Navigation.MOvnMenuBar){throw new Error("Mirs.Navigation.MOvnMenuBar 类重复加载")}var j=window.Mirs.Navigation.MOvnMenuBar=function(){this._masterElement=null};j.Create=function(){var g=i.ce("div");g.className="mOvnOptionContainer";g.setAttribute("MirsElementType","Mirs.Navigation.MOvnMenuBar");var a=new window.Mirs.Navigation.MOvnMenuBar();a._masterElement=g;g.addItem=i.cd(a,a.addItem);return g};j.prototype.addItem=function(g){var a=window.Mirs.Navigation.MOvnMenuItem.Create(g);this._masterElement.appendChild(a)};if(window.Mirs.Navigation.MOvnMenuItem){throw new Error("Mirs.Navigation.mOvnMenuItem 类重复加载")}var f=window.Mirs.Navigation.MOvnMenuItem=function(){this._masterElement=null};f.Create=function(p){var r=i.ce("div");r.className="mOvnOption";r.setAttribute("MirsElementType","Mirs.Navigation.MOvnMenuItem");var q=window.Mirs.Navigation.MOvnMenuItem.CutTitle(p.title,8);r.title=p.title;r.num=p.num;var a=i.ce("img");a.src="MirsImages/水情监测.png";r.appendChild(a);var s=i.ce("div");s.className="mOvnOptitle";s.innerHTML=q;r.appendChild(s);var o=new window.Mirs.Navigation.MOvnMenuItem();o._masterElement=r;var g=i.cd(o,o.Item_Click);r.addEventListener("click",g,false);return r};f.prototype.Item_Click=function(){alert("这是第"+this._masterElement.num+"个")};f.CutTitle=function(a,o){if(a.length>o){var g=a.substring(0,o);a=g+"...";return a}else{return a}}}(Mirs.Global,Mirs.Application);